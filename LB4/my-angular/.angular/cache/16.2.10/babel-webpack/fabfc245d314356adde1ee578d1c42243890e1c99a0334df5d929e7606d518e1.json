{"ast":null,"code":"export {};","map":{"version":3,"names":[],"sources":["/home/azazzzel/LETI2024/WEB/LB4/my-angular/src/app/login.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { DataService } from './data.service';\nimport {Co}\n\n@Component({\n    selector: 'app-login',\n    templateUrl: 'login.component.html'\n})\n\nexport class LoginComponent {\n    loginEmail: string = \"\";\n    password: string = \"\";  \n    comment: string = \"\"; \n\n    usersStorage: any;\n\n    constructor(public dataService: DataService) {}\n\n    ngOnInit(){\n        this.dataService.getUserStorage().subscribe((res)=>{\n            let _userData = JSON.stringify(res);\n            let userData = JSON.parse(_userData) || [];\n            this.usersStorage = userData;\n        })\n    }\n\n    searchUser(){\n        let userData = this.usersStorage;\n        this.dataService.usersStorage = userData;\n\n        for(let i = 0; i < userData.length; ++i){\n            if(userData[i].email == this.loginEmail && userData[i].password == this.password){\n                this.dataService.curUserID.next(i+1);\n                this.dataService.curUserFullName.next(userData[i].surname + \" \" + userData[i].name);\n            \n                this.comment = \"Вход выполнен!\";\n                return;\n            }\n        }\n\n        this.comment = \"Неверный пароль или логин!\";\n    }\n\n    register(){\n        location.href=\"/register\"\n    }\n\n}"],"mappings":""},"metadata":{},"sourceType":"module","externalDependencies":[]}